<!DOCTYPE html>
<html>
<body>

<p>This example uses the HTML DOM to assign an "onkeyup" event to an input element.</p>

<p>Press a key inside the text field and release it to set the text to uppercase.</p>

Enter your name: <input type="text" id="input">

<p id="editme2"> </p>

<script>
    // refresh the page every 3 seconds
    setInterval(function () {refresh()}, 3000);
    
    // give focus to the input
    document.getElementById("input").focus();
    
    function getCookie(cname) {
      var name = cname + "=";
      var ca = document.cookie.split(';');
	for(var i=0; i<ca.length; i++) {
	    var c = ca[i];
	    while (c.charAt(0)==' ') c = c.substring(1);
	    if (c.indexOf(name) == 0) return c.substring(name.length,c.length);
	}
      return "";
    } // getCookie
    
  function refresh(){
    storeInput();
    location.reload();
  } // refresh
  
  
  //function restoreInput() {
    var retrievedcookie=getCookie("inputcookie");
    if (retrievedcookie!="") {       
	document.getElementById("input").value=retrievedcookie;
	document.getElementById("editme2").value="restore";
    } // if not empty cookie
  //} // restoreInput
    
    document.getElementById("input").onkeyup = function() {storeInput()};
    document.getElementById("input").onkeydown = function() {storeInput()};
    
  function storeInput() {
      // get input element as var
      var $input = document.getElementById("input").value;    
      // start a cookie named inputcookie
      var $inputcookie = "inputcookie=";      
      // add actual input value to inputcookie
      $inputcookie += $input;          
      // plant the cookie 
      document.cookie=$inputcookie;      
  } // storeInput  
  

    
    
</script>

</body>
</html>